const latDistances = [110573, 110586, 110598, 110610, 110623, 110635, 110648, 110660, 110673, 110685, 110698, 110710, 110722, 110735, 110747, 110760, 110772, 110785, 110797, 110809, 110822, 110834, 110847, 110859, 110872, 110884, 110897, 110909, 110921, 110934, 110946, 110959, 110971, 110984, 110996, 111009, 111021, 111033, 111046, 111058, 111071, 111083, 111096, 111108, 111120, 111133, 111145, 111158, 111170, 111183, 111195, 111208, 111220, 111232, 111245, 111257, 111270, 111282, 111295, 111307, 111319, 111332, 111344, 111357, 111369, 111382, 111394, 111407, 111419, 111431, 111444, 111456, 111469, 111481, 111494, 111506, 111519, 111531, 111543, 111556, 111568, 111581, 111593, 111606, 111618, 111630, 111643, 111655, 111668, 111680, 111693, 111680, 111668, 111655, 111643, 111630, 111618, 111606, 111593, 111581, 111568, 111556, 111543, 111531, 111519, 111506, 111494, 111481, 111469, 111456, 111444, 111431, 111419, 111407, 111394, 111382, 111369, 111357, 111344, 111332, 111319, 111307, 111295, 111282, 111270, 111257, 111245, 111232, 111220, 111208, 111195, 111183, 111170, 111158, 111145, 111133, 111120, 111108, 111096, 111083, 111071, 111058, 111046, 111033, 111021, 111009, 110996, 110984, 110971, 110959, 110946, 110934, 110921, 110909, 110897, 110884, 110872, 110859, 110847, 110834, 110822, 110809, 110797, 110785, 110772, 110760, 110747, 110735, 110722, 110710, 110698, 110685, 110673, 110660, 110648, 110635, 110623, 110610, 110598, 110586, 110573];
const lngDistances = [0, 0.0006945205, 0.001926472, 0.003771465, 0.006226741, 0.009289081, 0.01295406, 0.0172172, 0.02207235, 0.02751392, 0.03353397, 0.04012587, 0.04728071, 0.05498843, 0.06324108, 0.07202609, 0.08133484, 0.09115282, 0.1014709, 0.1122745, 0.1235482, 0.1352819, 0.1474563, 0.1600616, 0.1730763, 0.1864904, 0.2002806, 0.2144369, 0.2289384, 0.2437627, 0.2589, 0.2743225, 0.2900209, 0.3059654, 0.3221473, 0.3385352, 0.3551209, 0.3718781, 0.3887793, 0.4058172, 0.4229567, 0.4401916, 0.4574853, 0.4748325, 0.4922042, 0.5095699, 0.5269263, 0.5442335, 0.5614895, 0.5786534, 0.5957245, 0.612661, 0.6294639, 0.6461019, 0.6625426, 0.6787898, 0.6947992, 0.7105763, 0.7260762, 0.7413062, 0.7562347, 0.7708298, 0.7851011, 0.7990032, 0.812548, 0.8256896, 0.8384417, 0.850759, 0.8626568, 0.8741055, 0.8850755, 0.895585, 0.9055893, 0.9151086, 0.9240988, 0.932582, 0.9405147, 0.9479209, 0.9547749, 0.9610513, 0.9667769, 0.9719103, 0.97648, 0.9804458, 0.983838, 0.9866351, 0.9888161, 0.9904137, 0.9913909, 0.9917819, 0.991551, 0.9917819, 0.9913909, 0.9904137, 0.9888161, 0.9866351, 0.983838, 0.9804458, 0.97648, 0.9719103, 0.9667769, 0.9610513, 0.9547749, 0.9479209, 0.9405147, 0.932582, 0.9240988, 0.9151086, 0.9055893, 0.895585, 0.8850755, 0.8741055, 0.8626568, 0.850759, 0.8384417, 0.8256896, 0.812548, 0.7990032, 0.7851011, 0.7708298, 0.7562347, 0.7413062, 0.7260762, 0.7105763, 0.6947992, 0.6787898, 0.6625426, 0.6461019, 0.6294639, 0.612661, 0.5957245, 0.5786534, 0.5614895, 0.5442335, 0.5269263, 0.5095699, 0.4922042, 0.4748325, 0.4574853, 0.4401916, 0.4229567, 0.4058172, 0.3887793, 0.3718781, 0.3551209, 0.3385352, 0.3221473, 0.3059654, 0.2900209, 0.2743225, 0.2589, 0.2437627, 0.2289384, 0.2144369, 0.2002806, 0.1864904, 0.1730763, 0.1600616, 0.1474563, 0.1352819, 0.1235482, 0.1122745, 0.1014709, 0.09115282, 0.08133484, 0.07202609, 0.06324108, 0.05498843, 0.04728071, 0.04012587, 0.03353397, 0.02751392, 0.02207235, 0.0172172, 0.01295406, 0.009289081, 0.006226741, 0.003771465, 0.001926472, 0.0006945205, 0];

export default function distance(a, b) {   
    const lat1 = a.lat;
    const lat2 = b.lat;
    const long1 = a.lng;
    const long2 = b.lng;

    const index = 90 + ~~(0.5 * (lat2 + lat1));
    const x = (lat1 - lat2);
    let y = (long1 - long2);
    if (y < -180) y += 360;
    else if (y > 180) y = 360 - y;

    return latDistances[index] * Math.sqrt(x * x + y * y * lngDistances[index]);
}